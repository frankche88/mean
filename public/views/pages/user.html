<div class="p+" flex-container="row" flex-gutter="24" flex-wrap>

    <div flex-item="12">
        <span class="fs-title display-block mb">Users</span>
        <div flex-item>
            <div class="card">
                <div class="toolbar">
                    <lx-search-filter>
                        <input type="text" ng-model="user.searchUser" ng-change="user.search();">
                    </lx-search-filter>
                </div>
            </div>
        </div>
    </div>

    <div flex-item="12" class="p+">
        <lx-button lx-type="fab" ng-click="user.add();">
            <i class="mdi mdi-plus"></i>
        </lx-button>
    </div>

    <div flex-item="12">

        <ul class="list mt++">
            <li class="list-row list-row--has-separator" ng-repeat="item in user.users">

                <div class="list-row__content">
                    <span>{{item.name}}</span>
                    <span class="display-block fs-body-1 tc-black-2">{{item.email}}</span>
                </div>
                <div class="list-row__secondary">
                    <lx-icon lx-id="information" lx-size="xs" lx-color="grey" lx-type="flat" ng-click="user.openDialog(item._id)"></lx-icon>
                    <lx-icon lx-id="pencil" lx-size="xs" lx-color="grey" lx-type="flat" ng-click="user.edit(item._id)"></lx-icon>
                    <lx-icon lx-id="delete" lx-size="xs" lx-color="grey" lx-type="flat" ng-click="user.delete(item._id)"></lx-icon>
                </div>
            </li>
        </ul>
    </div>
    <lx-dialog id="{{ user.dialogId }}">
        <lx-dialog-header>
            <div class="toolbar bgc-primary pl++">
                <span class="toolbar__label tc-white fs-title">
                    Info Usuario
                </span>

            </div>

        </lx-dialog-header>

        <lx-dialog-content>
            <div class="p+">
                <strong class="fs-headline display-block">{{user.infoUser.name}}</strong>
                <span class="fs-subhead tc-black-2 display-block">{{user.infoUser.username}}</span>
                <span class="fs-subhead tc-black-2 display-block">{{user.infoUser.email}}</span>
            </div>
        </lx-dialog-content>

        <lx-dialog-footer>
            <lx-button lx-color="black" lx-type="flat" lx-dialog-close>Cancel</lx-button>
            <lx-button lx-type="flat" lx-dialog-close>Ok</lx-button>
        </lx-dialog-footer>
    </lx-dialog>

    <lx-dialog id="{{ user.dialogIdEdit }}">
        <lx-dialog-header>
            <div class="toolbar bgc-primary pl++">
                <span class="toolbar__label tc-white fs-title">
                  Agregar/Editar Usuario
              </span>

            </div>

        </lx-dialog-header>
        <lx-dialog-content>

            <form name="new_user_form" ng-submit="submitForm()">
                <div class="p+">
                    <input type="hidden" name="_id" ng-model="user.model._id">

                    <lx-text-field lx-label="Name">
                        <input type="text" name="name" ng-required="true" ng-model="user.model.name">
                    </lx-text-field>

                    <label ng-if="new_user_form.name.$error.required && new_user_form.name.$dirty" style="color:red">El campo es requerido</label>

                    <lx-text-field lx-label="UserName">
                        <input type="text" name="username" ng-required="true" ng-model="user.model.username">
                    </lx-text-field>

                    <label ng-if="new_user_form.username.$error.required && new_user_form.username.$dirty" style="color:red">El campo es requerido</label>

                    <lx-text-field lx-label="Password">
                        <input type="password" name="password" ng-required="true" ng-model="user.model.password">
                    </lx-text-field>

                    <label ng-if="new_user_form.password.$error.required && new_user_form.password.$dirty" style="color:red">El campo es requerido</label>

                    <lx-text-field lx-label="Email">
                        <input type="text" name="email" ng-required="true" ng-model="user.model.email">
                    </lx-text-field>

                    <label ng-if="new_user_form.email.$error.required && new_user_form.email.$dirty" style="color:red">El campo es requerido</label>

                    <lx-button type="submit" ng-disabled="new_user_form.$invalid" lx-type="raised" ng-click="user.save(user.model)">Enviar</lx-button>
                    <div>
            </form>

        </lx-dialog-content>

        <lx-dialog-footer>
            <!-- <lx-button lx-color="black" lx-type="flat" lx-dialog-close>Cancel</lx-button>
            <lx-button lx-type="flat" lx-dialog-close>Ok</lx-button> -->
        </lx-dialog-footer>
    </lx-dialog>
